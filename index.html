<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Z9Games</title>
<style>
  /* Reset */
  *, *::before, *::after {
    box-sizing: border-box;
  }
  body {
    margin: 0;
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    background: #121212;
    color: #eee;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
  }
  header {
    background: #1f1f1f;
    padding: 15px 30px;
    font-size: 1.8rem;
    font-weight: 700;
    letter-spacing: 0.1em;
    user-select: none;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    border-bottom: 2px solid #00b4d8;
  }
  main {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 30px 20px;
    gap: 40px;
    background: linear-gradient(135deg, #242424 0%, #121212 100%);
  }
  .video-container {
    width: 90%;
    max-width: 900px;
    box-shadow: 0 8px 20px rgba(0,180,216,0.4);
    border-radius: 12px;
    overflow: hidden;
    background: black;
    transition: box-shadow 0.3s ease;
  }
  .video-container:hover {
    box-shadow: 0 12px 30px rgba(0,180,216,0.7);
  }
  video {
    width: 100%;
    height: auto;
    display: block;
  }
  .games-container {
    width: 90%;
    max-width: 900px;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 8px 20px rgba(0,180,216,0.4);
    background: #1e1e1e;
  }
  iframe {
    width: 100%;
    height: 600px;
    border: none;
    display: block;
  }
  footer {
    background: #1f1f1f;
    padding: 15px 20px;
    font-size: 0.9rem;
    text-align: center;
    color: #666;
    user-select: none;
    border-top: 1px solid #333;
  }

  /* Адаптив */
  @media (max-width: 960px) {
    iframe {
      height: 450px;
    }
  }
  @media (max-width: 600px) {
    header {
      font-size: 1.4rem;
      padding: 10px 15px;
    }
    main {
      gap: 25px;
      padding: 20px 15px;
    }
    .video-container {
      max-width: 100%;
    }
    .games-container {
      max-width: 100%;
    }
    iframe {
      height: 320px;
    }
  }
</style>
</head>
<body>

<header>Z9Games</header>

<main>
  <section class="video-container" aria-label="Промо видео">
    <video id="promoVideo" controls preload="metadata" poster="videos/poster.jpg">
      <source src="videos/promo.mp4" type="video/mp4" />
      Ваш браузер не поддерживает видео.
    </video>
  </section>

  <section class="games-container" aria-label="Игры">
    <iframe id="gameFrame" src="games/game1/index.html" allowfullscreen title="Игровой экран"></iframe>
  </section>
</main>

<footer>© 2025 Z9Games. Все права защищены.</footer>

<script>
  (() => {
    // Кэшируем элементы
    const video = document.getElementById('promoVideo');
    const gameFrame = document.getElementById('gameFrame');

    // Модуль управления видео
    const VideoController = (() => {
      let pauseTimeoutId = null;

      function onPlay() {
        clearTimeout(pauseTimeoutId);
        pauseTimeoutId = setTimeout(() => {
          video.pause();
          console.log('[VideoController] Видео поставлено на паузу через 10 секунд');
        }, 10000);
      }

      function init() {
        if (!video) return;
        video.addEventListener('play', onPlay);
      }

      return { init };
    })();

    // Модуль управления играми
    const GameController = (() => {
      // Можно расширить список игр
      const games = [
        'games/game1/index.html',
        'games/game2/index.html',
      ];
      let currentGameIndex = 0;

      function loadGame(index) {
        if (!gameFrame) return;
        if (index < 0 || index >= games.length) {
          console.warn('[GameController] Неверный индекс игры:', index);
          return;
        }
        currentGameIndex = index;
        gameFrame.src = games[currentGameIndex];
        console.log(`[GameController] Загружена игра: ${games[currentGameIndex]}`);
      }

      function nextGame() {
        const nextIndex = (currentGameIndex + 1) % games.length;
        loadGame(nextIndex);
      }

      function init() {
        loadGame(currentGameIndex);
        // Можно добавить навигацию между играми, кнопки и т.п.
      }

      return { init, loadGame, nextGame };
    })();

    // Инициализация при загрузке DOM
    document.addEventListener('DOMContentLoaded', () => {
      VideoController.init();
      GameController.init();
    });
  })();
</script>

</body>
</html>
